- defaults:
    link:
      create: true
      relink: true

- clean: ["~", "~/.config"]

- create:
    - ~/.m2
    - ~/.ssh
- create:
    ~/.zsh:
      mode: 0755

- link:
    ~/.zshrc:
      path: zshrc
    ~/.zprofile:
      path: zprofile
    ~/.ideavimrc:
      path: ideavimrc
    ~/.vimrc:
      path: vimrc
    ~/.tmux.conf:
      path: tmux.conf
    ~/.gitconfig:
      path: gitconfig
    ~/.config/:
      glob: true
      path: config/*
      relink: true
    ~/.zsh/:
      glob: true
      path: .zsh/*
      relink: true
    ~/.ssh/config:
      path: .ssh/config
    ~/.m2/settings.xml:
      path: .m2/settings.xml

- shell:
    - description: Install vim-plug (y/[n])
      stdin: true
      stdout: true
      quiet: true
      stderr: true
      command: |
        read c
        if [ "$c" = "y" ];
        then
          curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
        fi
    - description: Install fzf
      stdin: true
      stdout: true
      quiet: true
      stderr: true
      command: |
        if ! command -v fzf >/dev/null 2>&1
        then
          git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf && ~/.fzf/install
        fi
    - description: Install brew
      stdin: true
      stdout: true
      quiet: true
      stderr: true
      command: |
        if ! command -v brew >/dev/null 2>&1
        then
          /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
        fi
